# Bluetti Monitor Configuration

# ESP32 Webcam Settings
WEBCAM_URL=http://YOUR_ESP32_IP
WEBCAM_CAPTURE_ENDPOINT=/capture

# Monitoring Settings  
CAPTURE_INTERVAL=30
IMAGE_RETENTION_HOURS=24
OCR_CONFIDENCE_THRESHOLD=0.8

# API Settings
API_HOST=bluetti-monitor-api  # Docker service name for worker-to-API communication
API_PORT=8000
API_TITLE="Bluetti Monitor API"

# Logging
LOG_LEVEL=INFO
LOG_FILE=bluetti-monitor.log

# Optional: Database (if implementing persistence)
# DATABASE_URL=sqlite:///bluetti_data.db

# Optional: Metrics/Monitoring
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090

# OCR Settings
GEMINI_API_KEY=your_gemini_api_key_here

# Image Transformation Settings
IMAGE_FLIP_HORIZONTAL=true  # Flip image horizontally before OCR
IMAGE_ROTATE_180=false      # Rotate image 180 degrees before OCR

# GROQ Settings (fallback OCR provider)
GROQ_API_KEY=your_groq_api_key_here
PREFER_GROQ_OCR=false

# SwitchBot Settings (for automatic screen control)
SWITCH_BOT_TOKEN=your_switchbot_token
SWITCH_BOT_SECRET=your_switchbot_secret
SWITCH_BOT_DEVICE_NAME=  # Optional: specify device name/ID if you have multiple SwitchBots
SWITCHBOT_MAX_FAILURE_HOURS=1

# SwitchBot Tap Interval Settings
# Legacy fixed interval (set to 0 to use dynamic time-of-day intervals)
SWITCH_BOT_SECONDS_BETWEEN_TAPS=0

# Time-of-Day Based Tap Intervals (only used if SWITCH_BOT_SECONDS_BETWEEN_TAPS=0)
DAYTIME_TAP_INTERVAL=300      # 5 minutes (8 AM - 8 PM) - Active solar charging
SHOULDER_TAP_INTERVAL=900     # 15 minutes (6-8 AM, 8-10 PM) - Transition periods
NIGHTTIME_TAP_INTERVAL=1800   # 30 minutes (10 PM - 6 AM) - Minimal activity

# Time Range Configuration (24-hour format)
NIGHT_START_HOUR=22           # Night starts at 10 PM
NIGHT_END_HOUR=6              # Night ends at 6 AM
SHOULDER_MORNING_START=6      # Morning shoulder starts at 6 AM
SHOULDER_MORNING_END=8        # Morning shoulder ends at 8 AM
SHOULDER_EVENING_START=20     # Evening shoulder starts at 8 PM
SHOULDER_EVENING_END=22       # Evening shoulder ends at 10 PM

# Device Control API (for managing power outlets)
DEVICE_CONTROL_HOST=10.0.0.109
DEVICE_CONTROL_PORT=8084

# Development Settings
DEBUG=false
DEVELOPMENT_MODE=false